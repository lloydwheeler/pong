var requirejs,require,define;!function(undef){function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,lastIndex,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"]||{};if(name&&"."===name.charAt(0))if(baseName){for(baseParts=baseParts.slice(0,baseParts.length-1),name=name.split("/"),lastIndex=name.length-1,config.nodeIdCompat&&jsSuffixRegExp.test(name[lastIndex])&&(name[lastIndex]=name[lastIndex].replace(jsSuffixRegExp,"")),name=baseParts.concat(name),i=0;i<name.length;i+=1)if(part=name[i],"."===part)name.splice(i,1),i-=1;else if(".."===part){if(1===i&&(".."===name[2]||".."===name[0]))break;i>0&&(name.splice(i-1,2),i-=2)}name=name.join("/")}else 0===name.indexOf("./")&&(name=name.substring(2));if((baseParts||starMap)&&map){for(nameParts=name.split("/"),i=nameParts.length;i>0;i-=1){if(nameSegment=nameParts.slice(0,i).join("/"),baseParts)for(j=baseParts.length;j>0;j-=1)if(mapValue=map[baseParts.slice(0,j).join("/")],mapValue&&(mapValue=mapValue[nameSegment])){foundMap=mapValue,foundI=i;break}if(foundMap)break;!foundStarMap&&starMap&&starMap[nameSegment]&&(foundStarMap=starMap[nameSegment],starI=i)}!foundMap&&foundStarMap&&(foundMap=foundStarMap,foundI=starI),foundMap&&(nameParts.splice(0,foundI,foundMap),name=nameParts.join("/"))}return name}function makeRequire(relName,forceSync){return function(){var args=aps.call(arguments,0);return"string"!=typeof args[0]&&1===args.length&&args.push(null),req.apply(undef,args.concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name],defining[name]=!0,main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name))throw new Error("No "+name);return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;return index>-1&&(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),[prefix,name]}function makeConfig(name){return function(){return config&&config.config&&config.config[name]||{}}}var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice,jsSuffixRegExp=/\.js$/;makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];return name=parts[1],prefix&&(prefix=normalize(prefix,relName),plugin=callDep(prefix)),prefix?name=plugin&&plugin.normalize?plugin.normalize(name,makeNormalize(relName)):normalize(name,relName):(name=normalize(name,relName),parts=splitPrefix(name),prefix=parts[0],name=parts[1],prefix&&(plugin=callDep(prefix))),{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}},handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];return"undefined"!=typeof e?e:defined[name]={}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}},main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,usingExports,args=[],callbackType=typeof callback;if(relName=relName||name,"undefined"===callbackType||"function"===callbackType){for(deps=!deps.length&&callback.length?["require","exports","module"]:deps,i=0;i<deps.length;i+=1)if(map=makeMap(deps[i],relName),depName=map.f,"require"===depName)args[i]=handlers.require(name);else if("exports"===depName)args[i]=handlers.exports(name),usingExports=!0;else if("module"===depName)cjsModule=args[i]=handlers.module(name);else if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName))args[i]=callDep(depName);else{if(!map.p)throw new Error(name+" missing "+depName);map.p.load(map.n,makeRequire(relName,!0),makeLoad(depName),{}),args[i]=defined[depName]}ret=callback?callback.apply(defined[name],args):void 0,name&&(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]?defined[name]=cjsModule.exports:ret===undef&&usingExports||(defined[name]=ret))}else name&&(defined[name]=callback)},requirejs=require=req=function(deps,callback,relName,forceSync,alt){if("string"==typeof deps)return handlers[deps]?handlers[deps](callback):callDep(makeMap(deps,callback).f);if(!deps.splice){if(config=deps,config.deps&&req(config.deps,config.callback),!callback)return;callback.splice?(deps=callback,callback=relName,relName=null):deps=undef}return callback=callback||function(){},"function"==typeof relName&&(relName=forceSync,forceSync=alt),forceSync?main(undef,deps,callback,relName):setTimeout(function(){main(undef,deps,callback,relName)},4),req},req.config=function(cfg){return req(cfg)},requirejs._defined=defined,define=function(name,deps,callback){deps.splice||(callback=deps,deps=[]),hasProp(defined,name)||hasProp(waiting,name)||(waiting[name]=[name,deps,callback])},define.amd={jQuery:!0}}(),define("almond/almond",function(){}),function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("game/objects/paddle",[],function(){var Paddle;return Paddle=function(_super){function Paddle(game,x,y){this.game=game,Paddle.__super__.constructor.call(this,this.game,x,y,"paddle"),this.game.physics.arcade.enable(this),this.anchor.setTo(.5,.5),this.body.collideWorldBounds=!0,this.body.bounce.setTo(1,1),this.body.immovable=!0}return __extends(Paddle,_super),Paddle.preload=function(state){return state.load.image("paddle","assets/img/paddle.png")},Paddle.prototype.updatePosition=function(){return this.y=this.game.input.y<100?100:this.game.input.y>500?500:this.game.input.y},Paddle}(Phaser.Sprite)})}.call(this),function(){define("game/settings",[],function(){return{aiSpeed:1,ballSpeed:300,velocityIncrease:50}})}.call(this),function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("game/objects/ball",["game/settings"],function(Settings){var Ball;return Ball=function(_super){function Ball(game,x,y){this.game=game,Ball.__super__.constructor.call(this,this.game,x,y,"ball"),this.game.physics.arcade.enable(this),this.anchor.setTo(.5,.5),this.body.collideWorldBounds=!0,this.body.bounce.setTo(1,1)}return __extends(Ball,_super),Ball.isMoving=!1,Ball.preload=function(state){return state.load.image("ball","assets/img/ball.png")},Ball.prototype.releaseBall=function(){return this.isMoving?void 0:(this.body.velocity.x=Settings.ballSpeed,this.body.velocity.y=-Settings.ballSpeed,this.isMoving=!0)},Ball.prototype.checkGoal=function(){return this.x<15?(console.log("goal!"),this.body.velocity.x=Settings.ballSpeed,this.body.velocity.y=-Settings.ballSpeed,this.resetPosition()):void 0},Ball.prototype.resetPosition=function(){return this.x=this.game.world.centerX,this.y=this.game.world.centerY},Ball.prototype.increaseVelocity=function(){return this.body.velocity.y+=Settings.velocityIncrease,this.body.velocity.x+=Settings.velocityIncrease},Ball}(Phaser.Sprite)})}.call(this),function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("states/main",["game/objects/paddle","game/objects/ball"],function(Paddle,Ball){var Main;return Main=function(_super){function Main(){return Main.__super__.constructor.apply(this,arguments)}var ball;return __extends(Main,_super),ball="",Main.prototype.preload=function(){return Paddle.preload(this),Ball.preload(this)},Main.prototype.create=function(){return this.player=new Paddle(this.game,20,game.world.centerY-100),this.world.add(this.player),this.ai=new Paddle(this.game,game.width-20,game.world.centerY-100),this.world.add(this.ai),ball=new Ball(this.game,game.world.centerX,game.world.centerY),this.world.add(ball),this.game.physics.startSystem(Phaser.Physics.ARCADE),ball.releaseBall()},Main.prototype.update=function(){return this.player.updatePosition(),ball.checkGoal(),this.game.physics.arcade.collide(ball,this.player,this.ballCollision)},Main.prototype.ballCollision=function(){return ball.increaseVelocity()},Main}(Phaser.State)})}.call(this),function(){var __hasProp={}.hasOwnProperty,__extends=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)__hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child};define("game",["states/main"],function(Main){var Game;return Game=function(_super){function Game(){Game.__super__.constructor.call(this,800,600,Phaser.AUTO,"",null),this.state.add("Main",Main),this.state.start("Main")}return __extends(Game,_super),Game}(Phaser.Game)})}.call(this),function(){define("main",["game"],function(Game){return window.game=new Game}),require(["main"])}.call(this);